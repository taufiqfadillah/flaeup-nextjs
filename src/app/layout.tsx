import type { Metadata } from "next";
import "/public/css/tailwind-min.css";

export const metadata: Metadata = {
  title: "Flaeup | Loading...",
  description: "Generated by https://taufiqproject.my.id",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="en">
      <head>
        <link
          id="favicon"
          rel="icon"
          type="image/svg+xml"
          href="../public/images/favicon_blue.ico"
        />
        <script
          dangerouslySetInnerHTML={{
            __html: `
              // Favicon Switcher
              const setFavicon = () => {
                const favicon = document.getElementById("favicon");
                if (
                  window.matchMedia &&
                  window.matchMedia("(prefers-color-scheme: dark)").matches
                ) {
                  favicon.href = "/images/favicon_white.ico";
                } else {
                  favicon.href = "/images/favicon_blue.ico";
                }
              };

              setFavicon();

              window
                .matchMedia("(prefers-color-scheme: dark)")
                .addEventListener("change", setFavicon);
              window.addEventListener("DOMContentLoaded", setFavicon);

              // Custom Cursor
              document.addEventListener("DOMContentLoaded", () => {
                // Custom Cursor
                const cursor = document.createElement("div");
                cursor.className = "custom-cursor";
                document.body.appendChild(cursor);

                const handleMouseEnter = () => {
                  cursor.classList.add("expanded");
                };

                const handleMouseLeave = () => {
                  cursor.classList.remove("expanded");
                };

                document.querySelectorAll("a").forEach((link) => {
                  link.addEventListener("mouseenter", handleMouseEnter);
                  link.addEventListener("mouseleave", handleMouseLeave);
                });

                document.addEventListener("mousemove", (e) => {
                  cursor.style.left = \`\${e.clientX}px\`;
                  cursor.style.top = \`\${e.clientY}px\`;
                });
              });
            `,
          }}
        />
      </head>
      <body>
        {children}
        </body>
    </html>
  );
}
